{% for val in tree %}
{% if val.type and val.description %}
<dt id='details_{{ loop.key }}'>
  <code class='full'>{% if parent %}{{ parent }}.{% endif %}{{ loop.key }}</code>
  <code><span class='type'>{{ val.type }}</span> {{ loop.key }}</code>
</dt>
<dd class='description'>
  {{ val.description }}{% if val.object_id %} (<a href='#object-{{ val.object_id }}'>Read more about {{ val.object_id }} objects</a>){% endif %}
  {% if val.default %}<span class='default'>Default: <code>{{ val.default }}</code></span>{% endif %}
  {% if val.required == true %}<span class='required'>Required</span>{% endif %}
</dd>
{% else %}
{% if not parent %}
{% set parent = loop.key %}
{% else %}
{% set parent_prev = parent %}
{% set parent += '.'+ loop.key %}
{% endif %}
<dt><code>{{ parent }}</code></dt>
<dd>
<dl>
{% set tree = val %}
{% include "_tree.html" %}
{% set parent = parent_prev %}
</dl></dd>
{% endif %}
{% endfor %}