{% extends "default.html" %}
{% block title %}{% parent %} &raquo; {{ title }}{% endblock %}

{% block content %}
<header class='header'>
  <h1>{{ title }}</h1>
</header>

<section class='body'>
  {{ contents | safe }}
</section>

{% if defaults %}
<section class='defaults'>
  <h2>Defaults</h2>
  <h3>Image</h3>
    {% if defaults.image.id and defaults.image.name %}
    <table>
      <thead>
        <th>ID</th>
        <th>Description</th>
      </thead>
      <tbody>
        <tr>
          <td>{{ defaults.image.id | safe }}</td>
          <td>{{ defaults.image.name | safe }}</td>
        </tr>
      </tbody>
    </table>
    {% else %}
    No defaults available for the image. You need to provide the image id in the node definition.
    {% endif %}
  <h3>Location</h3>
    {% if defaults.location.id and defaults.location.name %}
    <table>
      <thead>
        <th>ID</th>
        <th>Description</th>
      </thead>
      <tbody>
        <tr>
          <td>{{ defaults.location.id | safe }}</td>
          <td>{{ defaults.location.name | safe }}</td>
        </tr>
      </tbody>
    </table>
    {% else %}
    No defaults available for the location. You need to provide the location id in the node definition.
    {% endif %}
</section>
{% endif %}

<section class='sizes'>
  <h2>Sizes</h2>
  <table>
    <thead>
      <th>ID</th>
      <th>Name</th>
      <th>RAM</th>
      {% if sizes[0].disk != 0 %}<th>Disk (GB)</th>{% endif %}
    </thead>
    <tbody>
    {% for size in sizes %}
      <tr>
        <td><code>{{ size.id | safe }}</code></td>
        <td>{{ size.name | safe }}</td>
        <td><code>{{ size.ram | safe }}</code></td>
        {% if size.disk != 0 %}<td><code>{{ size.disk | safe }}</code></td>{% endif %}
      </tr>
    {% endfor %}
    </tbody>
  </table>
</section>

<section class='locations'>
  <h2>Locations</h2>
  <table>
    <thead>
      <th>ID</th>
      <th>Name</th>
      {% if locations[0].country %}<th>Country</th>{% endif %}
    </thead>
    <tbody>
    {% for location in locations %}
      <tr>
        <td><code>{{ location.id | safe }}</code></td>
        <td>{{ location.name | safe }}</td>
        {% if location.country %}<td>{{ location.country | safe }}</td>{% endif %}
      </tr>
    {% endfor %}
    </tbody>
  </table>
</section>
{% endblock %}