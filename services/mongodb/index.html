<!doctype html>
<html>
<head>
  <title>MongoDB | devo.ps documentation</title>
  
  <!-- Meta -->
  <meta charset='utf-8'/>
  <meta name='viewport' content='width=device-width, initial-scale=1'/>
  <meta name='keywords' content='devo.ps, DevOps, Cloud, servers, infrastructure, automation, Continuous Integration, Continuous Deployment, Configuration Management, Orchestration, System Administration, PaaS, IaaS, documentation, database, nosql'/>
  <meta name='description' content='Documentation for devo.ps'/>
  
  <!-- Favicons -->
  <link rel='shortcut icon' href='/assets/favicon.ico'>
<link rel='apple-touch-icon' sizes='57x57' href='/assets/favicons/apple-touch-icon-57x57.png'>
<link rel='apple-touch-icon' sizes='114x114' href='/assets/favicons/apple-touch-icon-114x114.png'>
<link rel='apple-touch-icon' sizes='72x72' href='/assets/favicons/apple-touch-icon-72x72.png'>
<link rel='apple-touch-icon' sizes='144x144' href='/assets/favicons/apple-touch-icon-144x144.png'>
<link rel='apple-touch-icon' sizes='60x60' href='/assets/favicons/apple-touch-icon-60x60.png'>
<link rel='apple-touch-icon' sizes='120x120' href='/assets/favicons/apple-touch-icon-120x120.png'>
<link rel='apple-touch-icon' sizes='76x76' href='/assets/favicons/apple-touch-icon-76x76.png'>
<link rel='apple-touch-icon' sizes='152x152' href='/assets/favicons/apple-touch-icon-152x152.png'>
<link rel='icon' type='image/png' href='/assets/favicons/favicon-196x196.png' sizes='196x196'>
<link rel='icon' type='image/png' href='/assets/favicons/favicon-160x160.png' sizes='160x160'>
<link rel='icon' type='image/png' href='/assets/favicons/favicon-96x96.png' sizes='96x96'>
<link rel='icon' type='image/png' href='/assets/favicons/favicon-16x16.png' sizes='16x16'>
<link rel='icon' type='image/png' href='/assets/favicons/favicon-32x32.png' sizes='32x32'>
<meta name='msapplication-TileColor' content='#da532c'>
<meta name='msapplication-TileImage' content='/assets/favicons/mstile-144x144.png'>
<meta name='msapplication-config' content='/assets/favicons/browserconfig.xml'>

  <!-- CSS -->
  <link href='/assets/styles.css?0.1.0' rel='stylesheet' type='text/css'/>
</head>
<body>
  <header id='header'>
    <div class='wrapper'>
      <span class='logo'><a href='http://devo.ps'>devo.ps</a> documentation</span>

      <button class='toggle'>Menu</button>
      <nav class='menu'>
        <a href='https://www.hipchat.com/gyHEHtsXZ' target='_blank'>Chat with us</a>
        <a href='http://docs.devo.ps'>Documentation</a>
        <a href='http://devo.ps/about'>About</a>
        <a href='http://devo.ps/blog'>Blog</a>
        <a href='http://app.devo.ps' class='signin'>Sign in</a>
      </nav>
    </div>
  </header>

  <section id='main'>
    <nav class='sidebar'>
      <button class='cancel'><span>Close</span></button>
      <form class='swifttype'>
  <input type='text' id='st-search-input' placeholder='Search by keyword'/>
</form>
<script type='text/javascript'>
var Swiftype = window.Swiftype || {};
  (function() {
    Swiftype.key = 'nkPRs5W_yrQndsebXC-A';

    /** DO NOT EDIT BELOW THIS LINE **/
    var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
    script.src = '//s.swiftypecdn.com/embed.js';
    var entry = document.getElementsByTagName('script')[0];
    entry.parentNode.insertBefore(script, entry);
  }());
</script>
      <nav class='menu'>
        <a href='/' >Getting started</a>

<h3>How to</h3>


  


<a href='/how-to/add-a-server' >Add a server</a>


<h3>Manual</h3>


  

  

  

  

  

  


<a href='/manual/CLI' >CLI</a>

<a href='/manual/git-repositories' >Git &amp; Repositories</a>

<a href='/manual/nodes' >Nodes</a>

<a href='/manual/profile' >Profile</a>

<a href='/manual/tasks' >Tasks</a>

<a href='/manual/vars' >Variables</a>


<h3>Providers</h3>


  

  

  

  


<a href='/providers/ec2' >Amazon EC2</a>

<a href='/providers/digitalocean' >Digital Ocean</a>

<a href='/providers/linode' >Linode</a>

<a href='/providers/rackspace' >Rackspace</a>


<h3>Services</h3>


  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  


<a href='/services/apache' >Apache</a>

<a href='/services/couchbase' >CouchBase</a>

<a href='/services/couchdb' >CouchDB</a>

<a href='/services/dart' >Dart</a>

<a href='/services/docker' >Docker</a>

<a href='/services/elasticsearch' >ElasticSearch</a>

<a href='/services/fail2ban' >Fail2ban</a>

<a href='/services/git' >Git</a>

<a href='/services/go' >Go</a>

<a href='/services/java' >Java</a>

<a href='/services/memcached' >Memcached</a>

<a href='/services/mongodb'  class='active'>MongoDB</a>

<a href='/services/mysql' >MySQL</a>

<a href='/services/nginx' >Nginx</a>

<a href='/services/nodejs' >Node.js</a>

<a href='/services/openvpn' >OpenVPN</a>

<a href='/services/php' >PHP</a>

<a href='/services/python' >Python</a>

<a href='/services/rabbitmq' >RabbitMQ</a>

<a href='/services/redis' >Redis</a>

<a href='/services/ruby' >Ruby</a>

<a href='/services/server' >Server</a>

<a href='/services/uwsgi' >uWSGI</a>

<a href='/services/vagrant' >Vagrant</a>

<a href='/services/varnish' >Varnish</a>

<a href='/services/xvfb' >Xvfb</a>

<a href='/services/zeromq' >ZeroMQ</a>

      </nav>
    </nav>

    <section class='content'>
      

<header class='header'>
  <ul class='tags'>
    
      <li>database</li>
    
      <li>nosql</li>
    
  </ul>

  <h1>MongoDB 
  <a href='http://docs.mongodb.org/manual/'><span>Official documentation</span></a>
  </h1>  
</header>

<section class='body'>
  
</section>


<section class='tasks'>
  <h2 id='commands'><a href='#commands'>Commands</a></h2>
  <dl class='commands'>
    
    <dt>
      devops mongodb start
    </dt>
    <dd>
      Start MongoDB if stopped
      
    </dd>
    
    <dt>
      devops mongodb stop
    </dt>
    <dd>
      Stop MongoDB if started
      
    </dd>
    
    <dt>
      devops mongodb reload
    </dt>
    <dd>
      Reload MongoDB, reload the configuration and perform a graceful restart
      
    </dd>
    
    <dt>
      devops mongodb restart
    </dt>
    <dd>
      Restart MongoDB, reload the configuration (but kills existing connection)
      
    </dd>
    
    <dt>
      devops mongodb user add
    </dt>
    <dd>
      Adds a MongoDB database admin user.
      
        <h3>Arguments</h3>
        <table>
          <thead>
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
          </thead>
          <tbody>
            
            <tr>
              <td class='name'>databases</td>
              <td class='type'>array</td>
              <td class='description'>Array of database names the user will become an admin of</td>
              <td class='required'>Required</td>
            </tr>
            
            <tr>
              <td class='name'>name</td>
              <td class='type'>string</td>
              <td class='description'>User name</td>
              <td class='required'>Required</td>
            </tr>
            
          </tbody>
        </table>
      
    </dd>
    
    <dt>
      devops mongodb database add
    </dt>
    <dd>
      Adds a database and the read-write users
      
        <h3>Arguments</h3>
        <table>
          <thead>
            <th>Name</th>
            <th>Type</th>
            <th>Required</th>
          </thead>
          <tbody>
            
            <tr>
              <td class='name'>name</td>
              <td class='type'>string</td>
              <td class='description'>Database name</td>
              <td class='required'>Required</td>
            </tr>
            
            <tr>
              <td class='name'>users</td>
              <td class='type'>array</td>
              <td class='description'>Array of users with read-write privileges on the database.</td>
              <td class='required'></td>
            </tr>
            
          </tbody>
        </table>
      
    </dd>
    
  </dl>
</section>



<section id='configuration'>
  <h2><a href='#configuration'>Configuration</a></h2>

  <ul class='mock'>
    <li>
      <strong>configuration</strong>:
      <ul>
        <li>
          <strong>mongodb</strong>:
          <ul class='content'>
            
            

<li>
  <a href='#details_bindip'>
    <strong>bindip</strong>:
    <i>127.0.0.1</i>
  </a>
</li>



<li>
  
  <a href='#details_databases'>
    <strong>databases</strong>:
  </a>
  <ul class='array'>
    
    

<li>
  <a href='#details_name'>
    <strong>name</strong>:
    <i class='empty'>no default value</i>
  </a>
</li>



<li>
  
  <a href='#details_users'>
    <strong>users</strong>:
  </a>
  <ul class='array'>
    
    
  </ul>
  
</li>


  </ul>
  
</li>



<li>
  <a href='#details_dbpath'>
    <strong>dbpath</strong>:
    <i>/var/lib/mongodb</i>
  </a>
</li>



<li>
  <a href='#details_enable'>
    <strong>enable</strong>:
    <i>yes</i>
  </a>
</li>



<li>
  <a href='#details_enable_rest'>
    <strong>enable_rest</strong>:
    <i class='empty'>no default value</i>
  </a>
</li>



<li>
  <a href='#details_logpath'>
    <strong>logpath</strong>:
    <i>/var/log/mongodb/mongodb.log</i>
  </a>
</li>



<li>
  <a href='#details_nohttp'>
    <strong>nohttp</strong>:
    <i>false</i>
  </a>
</li>



<li>
  <a href='#details_port'>
    <strong>port</strong>:
    <i>27017</i>
  </a>
</li>



<li>
  <a href='#details_user'>
    <strong>user</strong>:
    <i>mongodb</i>
  </a>
</li>



<li>
  
  <a href='#details_users'>
    <strong>users</strong>:
  </a>
  <ul class='array'>
    
    

<li>
  
  <a href='#details_databases'>
    <strong>databases</strong>:
  </a>
  <ul class='array'>
    
    
  </ul>
  
</li>



<li>
  <a href='#details_name'>
    <strong>name</strong>:
    <i class='empty'>no default value</i>
  </a>
</li>


  </ul>
  
</li>


          </ul>
        </li>
      </ul>
    </li>
  </ul>

  <dl class='list'>
    
    
  
    <dt id='details_bindip'>
      <strong>bindip</strong> <span class='type'>string</span>
    </dt>
    <dd class='description'>Binding IP address.</dd>
    <dd class='default'>Default: <code>127.0.0.1</code></dd>
    
  

  

  
    <dt id='details_databases'>
      <strong>databases</strong> <span class='type'>array</span>
    </dt>
    <dd class='description'>Array of databases, defines a database and the list of users with only read-write access</dd>
    
    
  

  
    
      
    
    
    
      
    

    
      
      
        
      
      <dl>
        
  
    <dt id='details_name'>
      database.<strong>name</strong> <span class='type'>string</span>
    </dt>
    <dd class='description'>Database name</dd>
    
    <dd class='required'>Required</dd>
  

  

  
    <dt id='details_users'>
      database.<strong>users</strong> <span class='type'>array</span>
    </dt>
    <dd class='description'>Array of users with read-write privileges on the database. If the user does not exist it will be created. Do not specify users that are already admin of the database or they will loose their admin privileges.</dd>
    
    
  

  

      </dl>
    
    
  

  
    <dt id='details_dbpath'>
      <strong>dbpath</strong> <span class='type'>string</span>
    </dt>
    <dd class='description'>Database files path.</dd>
    <dd class='default'>Default: <code>/var/lib/mongodb</code></dd>
    
  

  

  
    <dt id='details_enable'>
      <strong>enable</strong> <span class='type'>string</span>
    </dt>
    <dd class='description'>Enable or disable mongodb service.</dd>
    <dd class='default'>Default: <code>yes</code></dd>
    
  

  

  
    <dt id='details_enable_rest'>
      <strong>enable_rest</strong> <span class='type'>boolean</span>
    </dt>
    <dd class='description'>Enable REST over the HTTP interface</dd>
    
    
  

  

  
    <dt id='details_logpath'>
      <strong>logpath</strong> <span class='type'>string</span>
    </dt>
    <dd class='description'>Database log file path.</dd>
    <dd class='default'>Default: <code>/var/log/mongodb/mongodb.log</code></dd>
    
  

  

  
    <dt id='details_nohttp'>
      <strong>nohttp</strong> <span class='type'>string</span>
    </dt>
    <dd class='description'>Disable entirely the HTTP interface.</dd>
    <dd class='default'>Default: <code>false</code></dd>
    
  

  

  
    <dt id='details_port'>
      <strong>port</strong> <span class='type'>integer</span>
    </dt>
    <dd class='description'>Connection port.</dd>
    <dd class='default'>Default: <code>27017</code></dd>
    
  

  

  
    <dt id='details_user'>
      <strong>user</strong> <span class='type'>string</span>
    </dt>
    <dd class='description'>Mongodb running user.</dd>
    <dd class='default'>Default: <code>mongodb</code></dd>
    
  

  

  
    <dt id='details_users'>
      <strong>users</strong> <span class='type'>array</span>
    </dt>
    <dd class='description'>Array of MongoDB admin db users. Passwords are randomly generated. A global admin user (named admin) is created automatically. The users defined here will be admin users of their respective databases</dd>
    
    
  

  
    
    
    
      
    

    
      
      
        
      
      <dl>
        
  
    <dt id='details_databases'>
      user.<strong>databases</strong> <span class='type'>array</span>
    </dt>
    <dd class='description'>Array of database names where the user will be an admin</dd>
    
    
  

  

  
    <dt id='details_name'>
      user.<strong>name</strong> <span class='type'>string</span>
    </dt>
    <dd class='description'>User name</dd>
    
    <dd class='required'>Required</dd>
  

  

      </dl>
    
    
  

  </dl>
</section>



    </section>
  <section>

  <aside id='support'>
    <h2>Need help?</h2>
    <nav class='links'>
      <a class='chat' href='https://www.hipchat.com/gyHEHtsXZ' target='_blank'>Chat with us</a>
      <a class='help' href='mailto:help@devo.ps' target='_blank'>Contact the support</a>
      <a class='documentation' href='http://docs.devo.ps' target='_blank'>Check the documentation</a>
    </nav>
  </aside>

  <!-- JS -->
  <script src='/assets/scripts.js' type='text/javascript'></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!--[if lt IE 9]><script src='http://html5shim.googlecode.com/svn/trunk/html5.js'></script><![endif]-->
  <script type='text/javascript'>
  var _gauges = _gauges || [];
  (function() {
    var t   = document.createElement('script');
    t.type  = 'text/javascript';
    t.async = true;
    t.id    = 'gauges-tracker';
    t.setAttribute('data-site-id', '510b396a613f5d2666000007');
    t.src = '//secure.gaug.es/track.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(t, s);
  })();
</script>
  <script type='text/javascript'>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-34006371-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
